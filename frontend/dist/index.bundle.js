(()=>{let e=L.map("mapid").setView([56.85,60.6],13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiZGltYXNpa2J1cmRpbiIsImEiOiJja3VyNm5vNzEwb2N1Mm5xdnVmY2F2NmZkIn0.m48LWgVP-vrcXmP0r-oiBQ"}).addTo(e);let t=L.icon({iconUrl:"./test-icon.png",iconSize:[50,50]});e.addEventListener("click",(o=>{let n=document.createElement("div");n.classList="marker-info";let a=document.createElement("h2");n.appendChild(a);let c=document.createElement("p");c.classList="marker-info-street",n.appendChild(c);let i=document.createElement("div");i.classList="marker-info-field";let l=document.createElement("p");l.classList="marker-info-field-des",i.appendChild(l);let d=document.createElement("div");d.classList="marker-info-field-image",i.appendChild(d);let r=document.createElement("img");r.classList="marker-info-field-image",d.appendChild(r);let m=document.createElement("img");m.classList="marker-info-field-image",d.appendChild(m),n.appendChild(i);let s=document.createElement("button");s.classList="marker-info-button",n.appendChild(s),a.textContent="Заголовок",c.textContent="Улица ###",l.textContent="Информация о маркере Информация о маркере Информация о маркере Информация о маркере",r.src="test-icon2.jpg",m.src="test-icon2.jpg",s.textContent="К диалогу",L.marker(o.latlng,{icon:t}).addTo(e).bindPopup(n).openPopup()}));let o=new L.Control.OSMGeocoder;e.addControl(o);let n=document.querySelector(".search-form"),a=document.querySelector(".search-field"),c=document.querySelector(".geo-submit"),i=document.querySelector(".geo-input");n.addEventListener("submit",(e=>{e.preventDefault(),i.value=a.value,c.click()})),new HystModal({linkAttributeName:"data-hystmodal"}),document.querySelector(".modal-window"),document.querySelector(".modal-h"),document.querySelector(".modal-categories"),document.querySelector(".modal-adress"),document.querySelector(".modal-description"),document.querySelector(".modal-window-exit-button").addEventListener("click",(()=>{i.value="Москва",o._geocode(new Event("submit"),!0),o.my_geocode_obj.callback}))})();